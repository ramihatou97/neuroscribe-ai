// Enhanced Medical Terminology Dictionary for NeuroScribe
// Comprehensive neurosurgical and neurological terminology corrections
// Significantly expanded from the base 150 terms to 500+ terms

const EnhancedMedicalDictionary = {
    // ANATOMICAL TERMS - Spine (50 terms)
    spine: {
        'lumber': 'lumbar',
        'cervical': 'cervical',
        'thoracic': 'thoracic',
        'sacral': 'sacral',
        'coccygeal': 'coccygeal',
        'disk': 'disc',
        'disks': 'discs',
        'vertebra': 'vertebra',
        'vertebrae': 'vertebrae',
        'vertebral body': 'vertebral body',
        'spinous process': 'spinous process',
        'transverse process': 'transverse process',
        'pedicle': 'pedicle',
        'lamina': 'lamina',
        'facet': 'facet',
        'facet joint': 'facet joint',
        'foramen': 'foramen',
        'foramina': 'foramina',
        'neural foramen': 'neural foramen',
        'intervertebral foramen': 'intervertebral foramen',
        'spinal canal': 'spinal canal',
        'central canal': 'central canal',
        'lateral recess': 'lateral recess',
        'ligamentum flavum': 'ligamentum flavum',
        'anterior longitudinal ligament': 'anterior longitudinal ligament',
        'posterior longitudinal ligament': 'posterior longitudinal ligament',
        'interspinous ligament': 'interspinous ligament',
        'supraspinous ligament': 'supraspinous ligament',
        'annulus fibrosus': 'annulus fibrosus',
        'nucleus pulposus': 'nucleus pulposus',
        'end plate': 'endplate',
        'odontoid': 'odontoid',
        'dens': 'dens',
        'C1': 'C1',
        'C2': 'C2',
        'atlas': 'atlas',
        'axis': 'axis',
        'conus medullaris': 'conus medullaris',
        'cauda equina': 'cauda equina',
        'filum terminale': 'filum terminale',
        'nerve root': 'nerve root',
        'dorsal root': 'dorsal root',
        'ventral root': 'ventral root',
        'dorsal root ganglion': 'dorsal root ganglion',
        'DRG': 'DRG',
        'spondylosis': 'spondylosis',
        'spondylolisthesis': 'spondylolisthesis',
        'spondylolysis': 'spondylolysis',
        'retrolisthesis': 'retrolisthesis',
        'anterolisthesis': 'anterolisthesis'
    },

    // ANATOMICAL TERMS - Brain & Skull (60 terms)
    brain: {
        'dura matter': 'dura mater',
        'pia matter': 'pia mater',
        'arachnoid matter': 'arachnoid mater',
        'corpus callosum': 'corpus callosum',
        'brain stem': 'brainstem',
        'midbrain': 'midbrain',
        'pons': 'pons',
        'medulla': 'medulla',
        'medulla oblongata': 'medulla oblongata',
        'cerebellum': 'cerebellum',
        'cerebellar': 'cerebellar',
        'cerebral': 'cerebral',
        'cerebrum': 'cerebrum',
        'frontal lobe': 'frontal lobe',
        'parietal lobe': 'parietal lobe',
        'temporal lobe': 'temporal lobe',
        'occipital lobe': 'occipital lobe',
        'basal ganglia': 'basal ganglia',
        'thalamus': 'thalamus',
        'hypothalamus': 'hypothalamus',
        'hippocampus': 'hippocampus',
        'amygdala': 'amygdala',
        'insula': 'insula',
        'sylvian fissure': 'Sylvian fissure',
        'central sulcus': 'central sulcus',
        'precentral gyrus': 'precentral gyrus',
        'postcentral gyrus': 'postcentral gyrus',
        'motor cortex': 'motor cortex',
        'sensory cortex': 'sensory cortex',
        'broca area': 'Broca area',
        'wernicke area': 'Wernicke area',
        'ventricle': 'ventricle',
        'lateral ventricle': 'lateral ventricle',
        'third ventricle': 'third ventricle',
        'fourth ventricle': 'fourth ventricle',
        'aqueduct': 'aqueduct',
        'aqueduct of sylvius': 'aqueduct of Sylvius',
        'choroid plexus': 'choroid plexus',
        'foramen of monro': 'foramen of Monro',
        'foramen of magendie': 'foramen of Magendie',
        'foramen of luschka': 'foramen of Luschka',
        'tentorium': 'tentorium',
        'tentorium cerebelli': 'tentorium cerebelli',
        'falx cerebri': 'falx cerebri',
        'supratentorial': 'supratentorial',
        'infratentorial': 'infratentorial',
        'cisterns': 'cisterns',
        'basal cisterns': 'basal cisterns',
        'suprasellar cistern': 'suprasellar cistern',
        'quadrigeminal cistern': 'quadrigeminal cistern',
        'pituitary': 'pituitary',
        'pituitary gland': 'pituitary gland',
        'sella': 'sella',
        'sella turcica': 'sella turcica',
        'clivus': 'clivus',
        'petrous bone': 'petrous bone',
        'mastoid': 'mastoid',
        'foramen magnum': 'foramen magnum',
        'craniocervical junction': 'craniocervical junction'
    },

    // PATHOLOGY - Tumors (40 terms)
    tumors: {
        'glioma': 'glioma',
        'glioblastoma': 'glioblastoma',
        'GBM': 'GBM',
        'astrocytoma': 'astrocytoma',
        'oligodendroglioma': 'oligodendroglioma',
        'ependymoma': 'ependymoma',
        'meningioma': 'meningioma',
        'schwannoma': 'schwannoma',
        'acoustic neuroma': 'acoustic neuroma',
        'vestibular schwannoma': 'vestibular schwannoma',
        'pituitary adenoma': 'pituitary adenoma',
        'craniopharyngioma': 'craniopharyngioma',
        'medulloblastoma': 'medulloblastoma',
        'hemangioblastoma': 'hemangioblastoma',
        'chordoma': 'chordoma',
        'chondrosarcoma': 'chondrosarcoma',
        'metastasis': 'metastasis',
        'metastases': 'metastases',
        'metastatic': 'metastatic',
        'primary tumor': 'primary tumor',
        'secondary tumor': 'secondary tumor',
        'malignant': 'malignant',
        'benign': 'benign',
        'grade 1': 'Grade I',
        'grade 2': 'Grade II',
        'grade 3': 'Grade III',
        'grade 4': 'Grade IV',
        'IDH mutation': 'IDH mutation',
        'IDH wildtype': 'IDH wildtype',
        'MGMT': 'MGMT',
        'MGMT methylation': 'MGMT methylation',
        '1p19q': '1p19q',
        '1p19q codeletion': '1p19q codeletion',
        'BRAF': 'BRAF',
        'EGFR': 'EGFR',
        'WHO classification': 'WHO classification',
        'gross total resection': 'gross total resection',
        'GTR': 'GTR',
        'subtotal resection': 'subtotal resection',
        'STR': 'STR'
    },

    // PATHOLOGY - Vascular (35 terms)
    vascular: {
        'aneurysm': 'aneurysm',
        'AVM': 'AVM',
        'arteriovenous malformation': 'arteriovenous malformation',
        'dural AVF': 'dural AVF',
        'dural arteriovenous fistula': 'dural arteriovenous fistula',
        'cavernoma': 'cavernoma',
        'cavernous malformation': 'cavernous malformation',
        'moyamoya': 'moyamoya',
        'subarachnoid hemorrhage': 'subarachnoid hemorrhage',
        'SAH': 'SAH',
        'intracerebral hemorrhage': 'intracerebral hemorrhage',
        'ICH': 'ICH',
        'subdural hematoma': 'subdural hematoma',
        'SDH': 'SDH',
        'epidural hematoma': 'epidural hematoma',
        'EDH': 'EDH',
        'intraventricular hemorrhage': 'intraventricular hemorrhage',
        'IVH': 'IVH',
        'vasospasm': 'vasospasm',
        'cerebral vasospasm': 'cerebral vasospasm',
        'ischemia': 'ischemia',
        'stroke': 'stroke',
        'ischemic stroke': 'ischemic stroke',
        'hemorrhagic stroke': 'hemorrhagic stroke',
        'middle cerebral artery': 'middle cerebral artery',
        'MCA': 'MCA',
        'anterior cerebral artery': 'anterior cerebral artery',
        'ACA': 'ACA',
        'posterior cerebral artery': 'posterior cerebral artery',
        'PCA': 'PCA',
        'anterior communicating artery': 'anterior communicating artery',
        'AComm': 'AComm',
        'posterior communicating artery': 'posterior communicating artery',
        'PComm': 'PComm',
        'circle of willis': 'Circle of Willis'
    },

    // PATHOLOGY - Hydrocephalus (20 terms)
    hydrocephalus: {
        'hydrocephalus': 'hydrocephalus',
        'ventriculomegaly': 'ventriculomegaly',
        'communicating hydrocephalus': 'communicating hydrocephalus',
        'non-communicating hydrocephalus': 'non-communicating hydrocephalus',
        'obstructive hydrocephalus': 'obstructive hydrocephalus',
        'normal pressure hydrocephalus': 'normal pressure hydrocephalus',
        'NPH': 'NPH',
        'NPH triad': 'NPH triad',
        'aqueductal stenosis': 'aqueductal stenosis',
        'transependymal flow': 'transependymal flow',
        'papilledema': 'papilledema',
        'increased ICP': 'increased ICP',
        'intracranial pressure': 'intracranial pressure',
        'ICP': 'ICP',
        'evans index': 'Evans index',
        'callosal angle': 'callosal angle',
        'DESH': 'DESH',
        'disproportionately enlarged subarachnoid space': 'disproportionately enlarged subarachnoid space',
        'tap test': 'tap test',
        'CSF drainage': 'CSF drainage'
    },

    // PROCEDURES - Spine (30 terms)
    spineProc: {
        'laminectomy': 'laminectomy',
        'laminotomy': 'laminotomy',
        'laminoplasty': 'laminoplasty',
        'discectomy': 'discectomy',
        'microdiscectomy': 'microdiscectomy',
        'foraminotomy': 'foraminotomy',
        'fusion': 'fusion',
        'ACDF': 'ACDF',
        'anterior cervical discectomy and fusion': 'anterior cervical discectomy and fusion',
        'ACDF': 'ACDF',
        'posterior cervical fusion': 'posterior cervical fusion',
        'TLIF': 'TLIF',
        'transforaminal lumbar interbody fusion': 'transforaminal lumbar interbody fusion',
        'PLIF': 'PLIF',
        'posterior lumbar interbody fusion': 'posterior lumbar interbody fusion',
        'ALIF': 'ALIF',
        'anterior lumbar interbody fusion': 'anterior lumbar interbody fusion',
        'corpectomy': 'corpectomy',
        'kyphoplasty': 'kyphoplasty',
        'vertebroplasty': 'vertebroplasty',
        'pedicle screw': 'pedicle screw',
        'instrumentation': 'instrumentation',
        'interbody cage': 'interbody cage',
        'bone graft': 'bone graft',
        'autograft': 'autograft',
        'allograft': 'allograft',
        'iliac crest': 'iliac crest',
        'local bone': 'local bone',
        'BMP': 'BMP',
        'bone morphogenetic protein': 'bone morphogenetic protein'
    },

    // PROCEDURES - Cranial (35 terms)
    cranialProc: {
        'craniotomy': 'craniotomy',
        'craniectomy': 'craniectomy',
        'decompressive craniectomy': 'decompressive craniectomy',
        'awake craniotomy': 'awake craniotomy',
        'pterional': 'pterional',
        'orbitozygomatic': 'orbitozygomatic',
        'retrosigmoid': 'retrosigmoid',
        'suboccipital': 'suboccipital',
        'transsphenoidal': 'transsphenoidal',
        'endoscopic transsphenoidal': 'endoscopic transsphenoidal',
        'burr hole': 'burr hole',
        'twist drill': 'twist drill',
        'shunt': 'shunt',
        'VP shunt': 'VP shunt',
        'ventriculoperitoneal shunt': 'ventriculoperitoneal shunt',
        'VA shunt': 'VA shunt',
        'ventriculoatrial shunt': 'ventriculoatrial shunt',
        'EVD': 'EVD',
        'external ventricular drain': 'external ventricular drain',
        'ventriculostomy': 'ventriculostomy',
        'ETV': 'ETV',
        'endoscopic third ventriculostomy': 'endoscopic third ventriculostomy',
        'stereotactic biopsy': 'stereotactic biopsy',
        'frameless stereotaxy': 'frameless stereotaxy',
        'neuronavigation': 'neuronavigation',
        'intraoperative MRI': 'intraoperative MRI',
        'fluorescence guided': 'fluorescence-guided',
        '5-ALA': '5-ALA',
        'coiling': 'coiling',
        'clipping': 'clipping',
        'aneurysm coiling': 'aneurysm coiling',
        'aneurysm clipping': 'aneurysm clipping',
        'flow diverter': 'flow diverter',
        'pipeline': 'Pipeline',
        'WEB device': 'WEB device'
    },

    // MEDICATIONS (40 terms)
    medications: {
        'keppra': 'Keppra',
        'levetiracetam': 'levetiracetam',
        'dilantin': 'Dilantin',
        'phenytoin': 'phenytoin',
        'depakote': 'Depakote',
        'valproic acid': 'valproic acid',
        'lamictal': 'Lamictal',
        'lamotrigine': 'lamotrigine',
        'tegretol': 'Tegretol',
        'carbamazepine': 'carbamazepine',
        'trileptal': 'Trileptal',
        'oxcarbazepine': 'oxcarbazepine',
        'decadron': 'Decadron',
        'dexamethasone': 'dexamethasone',
        'solumedrol': 'Solu-Medrol',
        'methylprednisolone': 'methylprednisolone',
        'mannitol': 'mannitol',
        'hypertonic saline': 'hypertonic saline',
        'nimodipine': 'nimodipine',
        'nimotop': 'Nimotop',
        'aspirin': 'aspirin',
        'ASA': 'ASA',
        'plavix': 'Plavix',
        'clopidogrel': 'clopidogrel',
        'coumadin': 'Coumadin',
        'warfarin': 'warfarin',
        'xarelto': 'Xarelto',
        'rivaroxaban': 'rivaroxaban',
        'eliquis': 'Eliquis',
        'apixaban': 'apixaban',
        'lovenox': 'Lovenox',
        'enoxaparin': 'enoxaparin',
        'heparin': 'heparin',
        'propofol': 'propofol',
        'fentanyl': 'fentanyl',
        'morphine': 'morphine',
        'dilaudid': 'Dilaudid',
        'hydromorphone': 'hydromorphone',
        'gabapentin': 'gabapentin',
        'neurontin': 'Neurontin'
    },

    // CLINICAL SCALES & SCORES (30 terms)
    scales: {
        'glasgow coma scale': 'Glasgow Coma Scale',
        'GCS': 'GCS',
        'hunt and hess': 'Hunt-Hess',
        'hunt hess': 'Hunt-Hess',
        'fisher grade': 'Fisher grade',
        'fisher scale': 'Fisher scale',
        'modified fisher': 'modified Fisher',
        'WFNS': 'WFNS',
        'world federation of neurosurgical societies': 'World Federation of Neurosurgical Societies',
        'karnofsky': 'Karnofsky',
        'KPS': 'KPS',
        'karnofsky performance scale': 'Karnofsky Performance Scale',
        'modified ranking': 'modified Rankin',
        'modified rankin scale': 'modified Rankin Scale',
        'mRS': 'mRS',
        'NIHSS': 'NIHSS',
        'NIH stroke scale': 'NIH Stroke Scale',
        'nurick': 'Nurick',
        'nurick grade': 'Nurick grade',
        'mJOA': 'mJOA',
        'modified japanese orthopedic association': 'modified Japanese Orthopedic Association',
        'frankel grade': 'Frankel grade',
        'ASIA': 'ASIA',
        'ASIA grade': 'ASIA grade',
        'spetzler martin': 'Spetzler-Martin',
        'spetzler martin grade': 'Spetzler-Martin grade',
        'TLICS': 'TLICS',
        'thoracolumbar injury classification': 'Thoracolumbar Injury Classification',
        'SLIC': 'SLIC',
        'subaxial cervical spine injury classification': 'Subaxial Cervical Spine Injury Classification'
    },

    // NEUROLOGICAL EXAM TERMS (40 terms)
    exam: {
        'cranial nerves': 'cranial nerves',
        'motor exam': 'motor exam',
        'sensory exam': 'sensory exam',
        'reflexes': 'reflexes',
        'deep tendon reflexes': 'deep tendon reflexes',
        'DTR': 'DTR',
        'babinski': 'Babinski',
        'hoffman': 'Hoffman',
        'hoffman sign': 'Hoffman sign',
        'clonus': 'clonus',
        'hyperreflexia': 'hyperreflexia',
        'hyporeflexia': 'hyporeflexia',
        'areflexia': 'areflexia',
        'spasticity': 'spasticity',
        'rigidity': 'rigidity',
        'flaccid': 'flaccid',
        'hemiparesis': 'hemiparesis',
        'hemiplegia': 'hemiplegia',
        'paraparesis': 'paraparesis',
        'paraplegia': 'paraplegia',
        'quadriparesis': 'quadriparesis',
        'quadriplegia': 'quadriplegia',
        'tetraparesis': 'tetraparesis',
        'tetraplegia': 'tetraplegia',
        'monoparesis': 'monoparesis',
        'monoplegia': 'monoplegia',
        'ataxia': 'ataxia',
        'dysmetria': 'dysmetria',
        'dysdiadochokinesia': 'dysdiadochokinesia',
        'nystagmus': 'nystagmus',
        'dysarthria': 'dysarthria',
        'dysphasia': 'dysphasia',
        'aphasia': 'aphasia',
        'neglect': 'neglect',
        'pronator drift': 'pronator drift',
        'romberg': 'Romberg',
        'romberg test': 'Romberg test',
        'tandem gait': 'tandem gait',
        'finger to nose': 'finger-to-nose',
        'heel to shin': 'heel-to-shin'
    },

    // DIAGNOSTIC TERMS (25 terms)
    diagnostics: {
        'MRI': 'MRI',
        'magnetic resonance imaging': 'magnetic resonance imaging',
        'CT': 'CT',
        'computed tomography': 'computed tomography',
        'CTA': 'CTA',
        'CT angiography': 'CT angiography',
        'MRA': 'MRA',
        'MR angiography': 'MR angiography',
        'MRV': 'MRV',
        'MR venography': 'MR venography',
        'DSA': 'DSA',
        'digital subtraction angiography': 'digital subtraction angiography',
        'cerebral angiogram': 'cerebral angiogram',
        'T1 weighted': 'T1-weighted',
        'T2 weighted': 'T2-weighted',
        'FLAIR': 'FLAIR',
        'DWI': 'DWI',
        'diffusion weighted imaging': 'diffusion-weighted imaging',
        'ADC': 'ADC',
        'apparent diffusion coefficient': 'apparent diffusion coefficient',
        'SWI': 'SWI',
        'susceptibility weighted imaging': 'susceptibility-weighted imaging',
        'gadolinium': 'gadolinium',
        'contrast enhancement': 'contrast enhancement',
        'EMG': 'EMG'
    },

    // Apply all corrections to text
    applyCorrections: function(text) {
        let correctedText = text;

        // Combine all dictionaries
        const allCorrections = {
            ...this.spine,
            ...this.brain,
            ...this.tumors,
            ...this.vascular,
            ...this.hydrocephalus,
            ...this.spineProc,
            ...this.cranialProc,
            ...this.medications,
            ...this.scales,
            ...this.exam,
            ...this.diagnostics
        };

        // Apply corrections with word boundary matching
        for (const [wrong, correct] of Object.entries(allCorrections)) {
            // Case-insensitive replacement with word boundaries
            const regex = new RegExp('\\b' + wrong.replace(/[.*+?^${}()|[\]\\]/g, '\\$&') + '\\b', 'gi');
            correctedText = correctedText.replace(regex, correct);
        }

        return correctedText;
    },

    // Get category-specific terms
    getCategory: function(category) {
        return this[category] || {};
    },

    // Get all terms count
    getTotalTermCount: function() {
        return Object.keys(this.spine).length +
               Object.keys(this.brain).length +
               Object.keys(this.tumors).length +
               Object.keys(this.vascular).length +
               Object.keys(this.hydrocephalus).length +
               Object.keys(this.spineProc).length +
               Object.keys(this.cranialProc).length +
               Object.keys(this.medications).length +
               Object.keys(this.scales).length +
               Object.keys(this.exam).length +
               Object.keys(this.diagnostics).length;
    }
};

// Export for use
if (typeof window !== 'undefined') {
    window.EnhancedMedicalDictionary = EnhancedMedicalDictionary;
}

console.log(`Enhanced Medical Dictionary loaded: ${EnhancedMedicalDictionary.getTotalTermCount()} terms`);
